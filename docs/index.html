<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Web Component</title><meta name="description" content="Documentation for Web Component"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Web Component</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>Web Component</h2></div><div class="tsd-panel tsd-typography"><p><img src="https://flat.badgen.net/static/license/CC-BY-NC-SA-4.0/green" alt="License: CC BY-NC-SA 4.0"></p>
<a id="md:webcomponent" class="tsd-anchor"></a><h1><a href="#md:webcomponent">Web.Component</a></h1><p>This repository contains a comprehensive boilerplate template for creating Web Components with unit testing and api document generation. The template is designed to demonstrate the use of modern web technologies such as HTML, CSS, and TypeScript to create modular, reusable, and testable web components. The template includes the following features:</p>
<ol>
<li><strong>Separation of Concerns</strong>: Demonstrates the principle of Separation of Concerns (SoC) by using HTML for structure, CSS for presentation, and TypeScript for behavior.</li>
<li><strong>State Management</strong>: Implements state management using private properties and public getters and setters.</li>
<li><strong>Imperative and Declarative API</strong>: Provides both imperative and declarative APIs for interacting with the web component.</li>
<li><strong>Event Handling</strong>: Demonstrates event handling by dispatching custom events when the state of the component changes.</li>
<li><strong>Import Maps</strong>: Demonstrates the use of import maps to resolve JavaScript module specifiers to their corresponding files or URLs.</li>
<li><strong>Unit Testing</strong>: Includes unit tests for the web component using the Jasmine assertion library and Karma test runner.</li>
<li><strong>API Documentation</strong>: Generates API documentation for the web component using the Typedoc documentation generator.</li>
</ol>
<p>Before we dive into the details of all the features, let&#39;s first go through the installation and demonstration of the web component.</p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><ol>
<li><p>Create a new repository using this template</p>
</li>
<li><p>Clone the repository to your local machine</p>
</li>
<li><p>Install the dependencies</p>
</li>
</ol>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span>
</code><button>Copy</button></pre>
<ol start="4">
<li>Run the unit tests to ensure everything is working as expected</li>
</ol>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button>Copy</button></pre>
<ol start="5">
<li>Build the web component</li>
</ol>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span>
</code><button>Copy</button></pre>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><p>The below steps will guide you through all the unique feature associated with the demo web component, a <code>pin-button</code>. As the name implies, the <code>pin-button</code> is a simple button that can be switched <code>on</code> and <code>off</code>.</p>
<ol>
<li>After successful build, run the following command:</li>
</ol>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">serve</span>
</code><button>Copy</button></pre>
<ol start="2">
<li><p>Observe the <code>pin-button</code> web component in the browser</p>
</li>
<li><p>Open the chrome developer tools and select the console</p>
</li>
<li><p>Get a reference to the web component in the browser console</p>
</li>
</ol>
<pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">pin</span><span class="hl-1"> = </span><span class="hl-5">document</span><span class="hl-1">.</span><span class="hl-0">querySelector</span><span class="hl-1">(</span><span class="hl-2">&quot;pin-button&quot;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<ol start="5">
<li>Create an onon event listener for the web component</li>
</ol>
<pre><code class="language-javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-0">onon</span><span class="hl-1"> = () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;onon triggered&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>
<ol start="6">
<li>Add the event listener to the web component</li>
</ol>
<pre><code class="language-javascript"><span class="hl-5">pin</span><span class="hl-1">.</span><span class="hl-5">onon</span><span class="hl-1"> = </span><span class="hl-5">onon</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<ol start="7">
<li>Switch the pin on using the imperative API</li>
</ol>
<pre><code class="language-javascript"><span class="hl-5">pin</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<ol start="8">
<li><p>Observe the visual changes in the browser and the console output</p>
</li>
<li><p>Select the elements tab in the chrome developer tools and inspect the html</p>
</li>
</ol>
<pre><code class="language-html"><span class="hl-6">&lt;</span><span class="hl-7">pin-button</span><span class="hl-1"> </span><span class="hl-8">state</span><span class="hl-1">=</span><span class="hl-9">&quot;on&quot;</span><span class="hl-6">&gt;&lt;/</span><span class="hl-7">pin-button</span><span class="hl-6">&gt;</span>
</code><button>Copy</button></pre>
<ol start="10">
<li><p>manually change the state attribute value to <code>off</code></p>
</li>
<li><p>Observe the visual changes in the browser</p>
</li>
<li><p>Return to the console tab and get the current state of the web component</p>
</li>
</ol>
<pre><code class="language-javascript"><span class="hl-5">pin</span><span class="hl-1">.</span><span class="hl-5">state</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<ol start="13">
<li><p>Click the web component with the mouse</p>
</li>
<li><p>Again observe the event which is triggered in the console</p>
</li>
<li><p>Lastly, get the current state of the web component again</p>
</li>
</ol>
<pre><code class="language-javascript"><span class="hl-5">pin</span><span class="hl-1">.</span><span class="hl-5">state</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>See <a href="https://scalable-software.github.io/web.component/">API Documentation</a> for details of all state, operations and events implemented.</p>
<blockquote>
<p><strong>Note</strong>: See the section of Typedoc how to generate the API documentation.</p>
</blockquote>
<p>Now that you have successfully interacted with the <code>pin-button</code> web component, let&#39;s dive into the details of the features that make this boilerplate template unique.</p>
<a id="md:separation-of-concerns" class="tsd-anchor"></a><h2><a href="#md:separation-of-concerns">Separation of Concerns</a></h2><p>In modern web development, the principle of Separation of Concerns (SoC) is fundamental to creating maintainable, scalable, and easily understandable code. This principle is elegantly demonstrated through the use of HTML, CSS, and TypeScript, each serving a distinct purpose while seamlessly working together to create robust web components. Below, we outline how each technology contributes to this principle:</p>
<a id="md:html-template-structure" class="tsd-anchor"></a><h3><a href="#md:html-template-structure">HTML Template: Structure</a></h3><p>The technology used to define the layout of the web component is <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template">HTML templates</a>. HTML templates are HTML fragments that are loaded into the DOM but not rendered immediately. Web component typically clones the HTML template and insert that inside the shadow DOM of a web component after which it is rendered. This allows developers to define the structure of the web component without cluttering the main HTML file with complex markup.</p>
<p>With reference to this boilerplate:</p>
<ol>
<li>The <code>Pin.template.html</code> in the <code>src</code> folder contains the layout of the <code>Pin</code> component.</li>
<li>This template is loaded into the dom using a public <code>loadTemplate(filename)</code> static method in the base <code>Component</code> class, where the filename in this case is <code>Pin.template.html</code>. (See the <code>index.js</code> file in the <code>demo</code> folder which illustrate how this method is used to load the template into the DOM.)</li>
<li>This keep things simple, by default the template id is the same as the web component tag, see the public <code>template</code> getter in the <code>Pin</code> class. This id is then used by the protected <code>_loadTemplate</code> instance method on the base <code>Component</code> class to clone and inserted the template into the shadow DOM of the web component.</li>
</ol>
<a id="md:css-presentation" class="tsd-anchor"></a><h3><a href="#md:css-presentation">CSS: Presentation</a></h3><p>CSS (Cascading Style Sheets) takes charge of the presentation aspect, dictating how the structured HTML elements should appear on the screen. This includes layouts, colors, fonts, and animations. CSS is also used to update visual changes based on changes to web component attributes. CSS&#39;s role in Separation of Concerns is to decouple the visual styling from the content structure, allowing for design changes without altering the underlying HTML. This separation not only makes the styling more manageable but also enhances the flexibility and reusability of the components.</p>
<p>With reference to this boilerplate:</p>
<ol>
<li>The <code>Pin.style.css</code> in the <code>src</code> folder contains the styling for the <code>Pin</code> component.</li>
<li>The public <code>css</code> getter in the <code>Pin</code> class contains the <code>css</code> filename and is used by the protected <code>loadStyle</code> method on the base <code>Component</code> class to insert a <code>link</code> element into the shadow DOM of the web component which points to the <code>css</code> file.</li>
</ol>
<a id="md:typescript-behavior" class="tsd-anchor"></a><h3><a href="#md:typescript-behavior">TypeScript: Behavior</a></h3><p>TypeScript, a superset of JavaScript, adds type safety and advanced object-oriented features to the component&#39;s behavior. It controls how the component reacts to user interactions, fetches data, and manipulates the DOM. By isolating the behavioral logic in TypeScript, developers can create more predictable and maintainable codebase. TypeScript&#39;s static typing and compile-time checks further contribute to the robustness and scalability of the component.</p>
<p>Fundamentally, the behavior of a web component can be grouped into three parts:</p>
<ol>
<li><strong>State</strong>: Implements state management using private properties and public getters and setters.</li>
<li><strong>Operations</strong>: Provides both imperative and declarative APIs for interacting with the web component.</li>
<li><strong>Events</strong>: Demonstrates event handling by dispatching custom events when the state of the component changes.</li>
</ol>
<p>With reference to this boilerplate, see the <code>Pin</code> class in the <code>src</code> folder which contains three sections described above.</p>
<a id="md:development-workflow" class="tsd-anchor"></a><h2><a href="#md:development-workflow">Development Workflow</a></h2><p>This boilerplate was developed using a specific workflow that ensures the web component is modular, testable, and well-documented. As a first step, a business analyst defined the needed specifications for the web component. These specifications were then used to guide the development of the web component. The development process followed the steps outlined below:</p>
<a id="md:web-component-specifications" class="tsd-anchor"></a><h3><a href="#md:web-component-specifications">Web Component Specifications</a></h3><p>A component is built according to a set of specifications, see the content in the <code>specifications</code> folder for an example. The specifications are divided into the following categories:</p>
<ol>
<li>Metadata</li>
<li>State</li>
<li>Operations</li>
<li>Events</li>
<li>Composition</li>
</ol>
<p>Below in an overview of each section and a reference to the <code>pin-button</code> web component:</p>
<a id="md:component-metadata" class="tsd-anchor"></a><h4><a href="#md:component-metadata">Component Metadata</a></h4><p>This section defines the name of the component, the tag name, and namespace to use when applicable</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;Component&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Pin&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;Tag&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;pin-button&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;Namespace&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Pin&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;Description&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;The Pin component is a button that can be turned on or off.&quot;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:component-state" class="tsd-anchor"></a><h4><a href="#md:component-state">Component State</a></h4><p>Component state is implemented using a combination of private properties and public getters and setter methods. Some properties are also defined as attributes to enable declarative API.</p>
<p>For example, the specifications refer to a <code>visible</code> state:</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;state&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;visible&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;string&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Indicates whether the pin is visible.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;values&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;yes&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;no&quot;</span><span class="hl-1">, </span><span class="hl-3">null</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;default&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;yes&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;isAttribute&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Note the <code>null</code> value in the <code>values</code> array. This is used to indicate that the attribute can be removed from the html element.</p>
<p>here is the extract of the implementation of the <code>visible</code> state:</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-5">private</span><span class="hl-1"> </span><span class="hl-11">_visible</span><span class="hl-1">: </span><span class="hl-5">Visibility</span><span class="hl-1"> = </span><span class="hl-5">Visible</span><span class="hl-1">.</span><span class="hl-4">YES</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-5">get</span><span class="hl-1"> </span><span class="hl-0">visible</span><span class="hl-1">(): </span><span class="hl-5">Visibility</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-12">return</span><span class="hl-1"> &lt;</span><span class="hl-13">Visibility</span><span class="hl-1">&gt;</span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">getAttribute</span><span class="hl-1">(</span><span class="hl-5">Attribute</span><span class="hl-1">.</span><span class="hl-4">VISIBLE</span><span class="hl-1">) ?? </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-5">_visible</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-5">set</span><span class="hl-1"> </span><span class="hl-0">visible</span><span class="hl-1">(</span><span class="hl-5">visible</span><span class="hl-1">: </span><span class="hl-5">Visibility</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">visible</span><span class="hl-1"> = </span><span class="hl-5">visible</span><span class="hl-1"> || </span><span class="hl-5">Visible</span><span class="hl-1">.</span><span class="hl-4">YES</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-12">if</span><span class="hl-1"> (</span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-5">visible</span><span class="hl-1"> !== </span><span class="hl-5">visible</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-5">_visible</span><span class="hl-1"> = </span><span class="hl-5">visible</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">visible</span><span class="hl-1"> == </span><span class="hl-5">Visible</span><span class="hl-1">.</span><span class="hl-4">YES</span><span class="hl-1"> &amp;&amp; </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">removeAttribute</span><span class="hl-1">(</span><span class="hl-5">Attribute</span><span class="hl-1">.</span><span class="hl-4">VISIBLE</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-5">visible</span><span class="hl-1"> == </span><span class="hl-5">Visible</span><span class="hl-1">.</span><span class="hl-4">YES</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">        </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">dispatchEvent</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">CustomEvent</span><span class="hl-1">(</span><span class="hl-5">Event</span><span class="hl-1">.</span><span class="hl-4">ONSHOW</span><span class="hl-1">, { </span><span class="hl-5">detail:</span><span class="hl-1"> </span><span class="hl-5">visible</span><span class="hl-1"> }));</span><br/><span class="hl-1">      </span><span class="hl-5">visible</span><span class="hl-1"> == </span><span class="hl-5">Visible</span><span class="hl-1">.</span><span class="hl-4">NO</span><span class="hl-1"> &amp;&amp; </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">setAttribute</span><span class="hl-1">(</span><span class="hl-5">Attribute</span><span class="hl-1">.</span><span class="hl-4">VISIBLE</span><span class="hl-1">, </span><span class="hl-5">visible</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-5">visible</span><span class="hl-1"> == </span><span class="hl-5">Visible</span><span class="hl-1">.</span><span class="hl-4">NO</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">        </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">dispatchEvent</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">CustomEvent</span><span class="hl-1">(</span><span class="hl-5">Event</span><span class="hl-1">.</span><span class="hl-4">ONHIDE</span><span class="hl-1">, { </span><span class="hl-5">detail:</span><span class="hl-1"> </span><span class="hl-5">visible</span><span class="hl-1"> }));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<a id="md:component-operations" class="tsd-anchor"></a><h4><a href="#md:component-operations">Component Operations</a></h4><p>Component operations are implemented using public methods and used to enable the imperative API. In essence these public methods are thin wrappers which use the available setters to change the state of the component.</p>
<p>For example, the specifications refer to a <code>on</code> operation:</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;operations&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;on&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Turns the pin on.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;parameters&quot;</span><span class="hl-1">: [],</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;returns&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;void&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Here is the extract of the implementation of the <code>on</code> operation:</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-0">on</span><span class="hl-1"> = () </span><span class="hl-3">=&gt;</span><span class="hl-1"> (</span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-5">state</span><span class="hl-1"> = </span><span class="hl-5">State</span><span class="hl-1">.</span><span class="hl-4">ON</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:component-events" class="tsd-anchor"></a><h4><a href="#md:component-events">Component Events</a></h4><p>Component events are implemented using the <code>CustomEvent</code> constructor. The <code>CustomEvent</code> constructor is used to create a new event object which can be dispatched using the <code>dispatchEvent</code> method. Events are dispatched when the state of the component changes inside the setter methods.</p>
<p>For example, the specifications refer to a <code>onon</code> event:</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;events&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;onon&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Triggered when the pin is turned on.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;parameters&quot;</span><span class="hl-1">: []</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Here is the extract of the implementation of the <code>onon</code> event:</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-14">// Event Registration</span><br/><span class="hl-1">  </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-5">set</span><span class="hl-1"> </span><span class="hl-0">onon</span><span class="hl-1">(</span><span class="hl-5">handler</span><span class="hl-1">: </span><span class="hl-5">Handler</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-5">Event</span><span class="hl-1">.</span><span class="hl-4">ONON</span><span class="hl-1">, </span><span class="hl-5">handler</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>The <code>onon</code> event is dispatched in the <code>setter</code> of the <code>state</code> property:</p>
<pre><code class="language-typescript"><span class="hl-5">state</span><span class="hl-1"> === </span><span class="hl-5">State</span><span class="hl-1">.</span><span class="hl-4">ON</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">  </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">dispatchEvent</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">CustomEvent</span><span class="hl-1">(</span><span class="hl-5">Event</span><span class="hl-1">.</span><span class="hl-4">ONON</span><span class="hl-1">, { </span><span class="hl-5">detail:</span><span class="hl-1"> { </span><span class="hl-5">state</span><span class="hl-1"> } }));</span><br/><span class="hl-5">state</span><span class="hl-1"> === </span><span class="hl-5">State</span><span class="hl-1">.</span><span class="hl-4">OFF</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">  </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">dispatchEvent</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">CustomEvent</span><span class="hl-1">(</span><span class="hl-5">Event</span><span class="hl-1">.</span><span class="hl-4">ONOFF</span><span class="hl-1">, { </span><span class="hl-5">detail:</span><span class="hl-1"> { </span><span class="hl-5">state</span><span class="hl-1"> } }));</span>
</code><button>Copy</button></pre>
<a id="md:component-composition" class="tsd-anchor"></a><h4><a href="#md:component-composition">Component Composition</a></h4><p>Component composition is implemented using the <code>HTMLTemplateElement</code> and <code>ShadowRoot</code> API. The <code>HTMLTemplateElement</code> is used to define the layout of the component and the <code>ShadowRoot</code> is used to attach the template to the component.</p>
<p>For example, the specifications refer to the <code>Pin.template.html</code> file:</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;composition&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;on&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;description&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;The SVG icon used for on state.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;contains&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;path&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;svg&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Here is the extract of the implementation of the <code>on</code> element in the composition:</p>
<pre><code class="language-html"><span class="hl-6">&lt;</span><span class="hl-7">svg</span><span class="hl-1"> </span><span class="hl-8">class</span><span class="hl-1">=</span><span class="hl-9">&quot;on&quot;</span><span class="hl-1"> </span><span class="hl-8">height</span><span class="hl-1">=</span><span class="hl-9">&quot;24px&quot;</span><span class="hl-1"> </span><span class="hl-8">width</span><span class="hl-1">=</span><span class="hl-9">&quot;24px&quot;</span><span class="hl-1"> </span><span class="hl-8">viewBox</span><span class="hl-1">=</span><span class="hl-9">&quot;0 0 20 20&quot;</span><span class="hl-1"> </span><span class="hl-8">fill</span><span class="hl-1">=</span><span class="hl-9">&quot;#212121&quot;</span><span class="hl-6">&gt;</span><br/><span class="hl-1">  </span><span class="hl-6">&lt;</span><span class="hl-7">path</span><br/><span class="hl-1">    </span><span class="hl-8">d</span><span class="hl-1">=</span><span class="hl-9">&quot;M2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.896 7.60309L4.01834 8.75415C3.35177 9.02078 3.17498 9.88209 3.68262 10.3897L6.29289 13L3 16.2929V17H3.70711L7 13.7071L9.61027 16.3174C10.1179 16.825 10.9792 16.6482 11.2459 15.9817L12.3969 13.104L17.1464 17.8536C17.3417 18.0488 17.6583 18.0488 17.8536 17.8536C18.0488 17.6583 18.0488 17.3417 17.8536 17.1464L2.85355 2.14645ZM11.6276 12.3347L10.3174 15.6103L4.38973 9.68263L7.66531 8.3724L11.6276 12.3347ZM12.9565 10.7127C12.9294 10.7263 12.9026 10.7403 12.8761 10.7548L13.6202 11.4989L16.8622 9.87793C18.0832 9.26743 18.3473 7.64015 17.382 6.67486L13.3251 2.61804C12.3599 1.65275 10.7326 1.91683 10.1221 3.13783L8.5011 6.37977L9.24523 7.1239C9.25971 7.09739 9.27373 7.07059 9.28728 7.04349L11.0165 3.58504C11.3218 2.97454 12.1354 2.8425 12.618 3.32514L16.6749 7.38197C17.1575 7.86461 17.0255 8.67826 16.415 8.98351L12.9565 10.7127Z&quot;</span><br/><span class="hl-1">  </span><span class="hl-6">/&gt;</span><br/><span class="hl-6">&lt;/</span><span class="hl-7">svg</span><span class="hl-6">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:typescript-compiler-options" class="tsd-anchor"></a><h3><a href="#md:typescript-compiler-options">Typescript Compiler Options</a></h3><p>Two different typescript configuration are defined: <code>tsconfig.build.json</code> and <code>tsconfig.test.json</code>. The typescript complier options of the two files are largely the same. Below is an overview of the compiler options used:</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;compilerOptions&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;module&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;es2022&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;target&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;es2022&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;moduleResolution&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;node&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;declaration&quot;</span><span class="hl-1">: </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;rootDir&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./src&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;outDir&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./dist/&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;baseUrl&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;./&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">&quot;paths&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-10">&quot;pin&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;./src/Index.js&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-10">&quot;include&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;./src/**/*&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The important options to note are:</p>
<ol>
<li><p><code>module</code><br>The <code>es2022</code> module system is used to enable the use of ESM in the browser.</p>
</li>
<li><p><code>paths</code><br>The <code>paths</code> option is used to define module aliases and used in conjunction with importmaps to avoid the use of a bundler. See the section on importmaps for more details.</p>
</li>
</ol>
<a id="md:unit-testing" class="tsd-anchor"></a><h3><a href="#md:unit-testing">Unit Testing</a></h3><p>Unit test are designed to test the web component based on the defined specifications.</p>
<p>This template enables both realtime and manual unit testing. Realtime unit testing is achieved using <code>wallaby</code> and manual unit testing is done using the <code>karma</code> test runner with <code>jasmine</code> assertion library. Both <code>wallaby</code> and <code>karma</code> configuration file is located at the root of the project: <code>wallaby.js</code>, <code>karma.conf.js</code>.</p>
<p>To manually run the unit tests, and generate coverage reports in the <code>coverage</code> folder, use the following command:</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button>Copy</button></pre>
<a id="md:typedoc-configuration" class="tsd-anchor"></a><h3><a href="#md:typedoc-configuration">Typedoc Configuration</a></h3><p>In addition the typescript compiler options, the <code>tsconfig.test.json</code> configuration file also contains Typedoc configuration details. Typedoc is a documentation generator for typescript projects.</p>
<p>To generate the API documentation, in the docs folder, use the following command:</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">document</span>
</code><button>Copy</button></pre>
<a id="md:importmaps" class="tsd-anchor"></a><h3><a href="#md:importmaps">Importmaps</a></h3><p>Import maps are a browser feature that enables developers to define how JavaScript module specifiers are resolved to their corresponding files or URLs, allowing for custom mapping of module names to paths and facilitating easier management of dependencies. By using import maps, developers can therefore easily switch between a local file, an NPM installed package or even a CDN hosted file. Also, Import maps is what enables the use of ESM compiled TypeScript to work in the browser without the use of any bundler.</p>
<p>Lastly, the keep the mail HTML file as lean as possible, an injection script is used to inject import maps defined as json objects into the html document. Once, external Import maps have been added to the HTML spec, the injection script will not longer be needed. See the <code>./importmap</code> folder, which contains the following files:</p>
<ol>
<li><code>inject.js</code> - The script that injects the import map into the HTML document</li>
<li><code>importmap.build.js</code> - The import map used by the demo page</li>
<li><code>importmap.test.js</code> - The import map used by the test page</li>
</ol>
<a id="md:publishing" class="tsd-anchor"></a><h3><a href="#md:publishing">Publishing</a></h3><p>The beauty of combining HTML, CSS, and TypeScript lies in their ability to be bundled together into a single, installable package. This approach not only adheres to the Separation of Concerns but also simplifies the distribution and reuse of components across different projects.</p>
<p>With reference to this boilerplate, the web component is bundled and published as a NPM package. The <code>package.json</code> file contains the necessary scripts and configurations to build, test, and publish the web component. The <code>dist</code> folder contains the compiled JavaScript files as well as a copy of the HTML Template and CSS Files.</p>
<p>A github workflow is setup to automatically publish the web component to NPM when a new release is created. The workflow is defined in the <code>.github/workflows/publish.yml</code> file.</p>
<p>Before creating a new release in GitHub, ensure the following steps are completed:</p>
<ol>
<li>Determine the type of version bump (major, minor, patch)</li>
<li>Run one of the following commands to bump the version in the <code>package.json</code> file:</li>
</ol>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">version</span><span class="hl-1"> </span><span class="hl-2">major</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">version</span><span class="hl-1"> </span><span class="hl-2">minor</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">version</span><span class="hl-1"> </span><span class="hl-2">patch</span>
</code><button>Copy</button></pre>
<ol start="3">
<li>Given you have used the above command, a tag will automatically be created in the repository, else you can create a tag manually using the following command:</li>
</ol>
<pre><code class="language-bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">tag</span><span class="hl-1"> </span><span class="hl-3">-a</span><span class="hl-1"> </span><span class="hl-2">v1.0.0</span><span class="hl-1"> </span><span class="hl-3">-m</span><span class="hl-1"> </span><span class="hl-2">&quot;Version 1.0.0&quot;</span>
</code><button>Copy</button></pre>
<ol start="4">
<li>Push the tag to the remote repository:</li>
</ol>
<pre><code class="language-bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">push</span><span class="hl-1"> </span><span class="hl-2">origin</span><span class="hl-1"> </span><span class="hl-2">v1.0.0</span>
</code><button>Copy</button></pre>
<ol start="5">
<li>Create a new release in GitHub and the workflow will automatically publish the web component to NPM.</li>
</ol>
<blockquote>
<p>Note: a manual publication to NPM is required for the first release when using a scoped package on the free tier of NPM: <code>npm publish --access public</code>.</p>
</blockquote>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><blockquote>
<p>his software and its documentation are released under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International Public License (CC BY-NC-SA 4.0). This means you are free to share, copy, distribute, and transmit the work, and to adapt it, but only under the following conditions:</p>
<p>Attribution: You must attribute the work in the manner specified by the author or licensor (but not in any way that suggests that they endorse you or your use of the work).</p>
<p>NonCommercial: You may not use this material for commercial purposes.</p>
<p>ShareAlike: If you alter, transform, or build upon this work, you may distribute the resulting work only under the same or similar license to this one.</p>
<p>For more details, please visit the full <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">license agreement</a>.</p>
</blockquote>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:webcomponent"><span>Web.<wbr/>Component</span></a><ul><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><a href="#md:separation-of-concerns"><span>Separation of <wbr/>Concerns</span></a></li><li><ul><li><a href="#md:html-template-structure"><span>HTML <wbr/>Template: <wbr/>Structure</span></a></li><li><a href="#md:css-presentation"><span>CSS: <wbr/>Presentation</span></a></li><li><a href="#md:typescript-behavior"><span>Type<wbr/>Script: <wbr/>Behavior</span></a></li></ul></li><li><a href="#md:development-workflow"><span>Development <wbr/>Workflow</span></a></li><li><ul><li><a href="#md:web-component-specifications"><span>Web <wbr/>Component <wbr/>Specifications</span></a></li><li><ul><li><a href="#md:component-metadata"><span>Component <wbr/>Metadata</span></a></li><li><a href="#md:component-state"><span>Component <wbr/>State</span></a></li><li><a href="#md:component-operations"><span>Component <wbr/>Operations</span></a></li><li><a href="#md:component-events"><span>Component <wbr/>Events</span></a></li><li><a href="#md:component-composition"><span>Component <wbr/>Composition</span></a></li></ul></li><li><a href="#md:typescript-compiler-options"><span>Typescript <wbr/>Compiler <wbr/>Options</span></a></li><li><a href="#md:unit-testing"><span>Unit <wbr/>Testing</span></a></li><li><a href="#md:typedoc-configuration"><span>Typedoc <wbr/>Configuration</span></a></li><li><a href="#md:importmaps"><span>Importmaps</span></a></li><li><a href="#md:publishing"><span>Publishing</span></a></li></ul></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>Web Component</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>